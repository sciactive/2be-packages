/*
 * FullCalendar v1.4.4
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, required jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * Copyright (c) 2009 Adam Shaw
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Date: Wed Feb 3 22:56:20 2010 -0800
 *
 */
(function(j){function sa(a,b){a._id=a._id||(a.id==J?"_fc"+$a++:a.id+"");if(a.date){if(!a.start)a.start=a.date;delete a.date}a._start=t(a.start=Ma(a.start));a.end=Ma(a.end);if(a.end&&a.end<=a.start)a.end=null;a._end=a.end?t(a.end):null;if(a.allDay==J)a.allDay=b.allDayDefault;if(a.className){if(typeof a.className=="string")a.className=a.className.split(/\s+/)}else a.className=[]}function Ba(a,b,d){function c(s,r,Q,T,N,K,ca){I=s;L=r;X=b.theme?"ui":"fc";O=b.weekends?0:1;A=b.firstDay;if(ha=b.isRTL){ia=
-1;ka=L-1}else{ia=1;ka=0}var fa=w.start.getMonth(),h=ta(new Date),m,p=t(w.visStart);if(B){y();r=B.find("tr").length;if(I<r)B.find("tr:gt("+(I-1)+")").remove();else if(I>r){s="";for(r=r;r<I;r++){s+="<tr class='fc-week"+r+"'>";for(m=0;m<L;m++){s+="<td class='fc-"+na[p.getDay()]+" "+X+"-state-default fc-new fc-day"+(r*L+m)+(m==ka?" fc-leftmost":"")+"'>"+(T?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";F(p,1);O&&da(p)}s+="</tr>"}B.append(s)}B.find("td.fc-new").removeClass("fc-new").click(e);
p=t(w.visStart);B.find("td").each(function(){var $=j(this);if(I>1)p.getMonth()==fa?$.removeClass("fc-other-month"):$.addClass("fc-other-month");+p==+h?$.removeClass("fc-not-today").addClass("fc-today").addClass(X+"-state-highlight"):$.addClass("fc-not-today").removeClass("fc-today").removeClass(X+"-state-highlight");$.find("div.fc-day-number").text(p.getDate());F(p,1);O&&da(p)});if(I==1){p=t(w.visStart);ga.find("th").each(function(){j(this).text(la(p,Q,b));this.className=this.className.replace(/^fc-\w+(?= )/,
"fc-"+na[p.getDay()]);F(p,1);O&&da(p)});p=t(w.visStart);B.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+na[p.getDay()]);F(p,1);O&&da(p)})}}else{var D=j("<table/>").appendTo(a);s="<thead><tr>";for(r=0;r<L;r++){s+="<th class='fc-"+na[p.getDay()]+" "+X+"-state-default"+(r==ka?" fc-leftmost":"")+"'>"+la(p,Q,b)+"</th>";F(p,1);O&&da(p)}ga=j(s+"</tr></thead>").appendTo(D);s="<tbody>";p=t(w.visStart);for(r=0;r<I;r++){s+="<tr class='fc-week"+r+"'>";for(m=0;m<L;m++){s+=
"<td class='fc-"+na[p.getDay()]+" "+X+"-state-default fc-day"+(r*L+m)+(m==ka?" fc-leftmost":"")+(I>1&&p.getMonth()!=fa?" fc-other-month":"")+(+p==+h?" fc-today "+X+"-state-highlight":" fc-not-today")+"'>"+(T?"<div class='fc-day-number'>"+p.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";F(p,1);O&&da(p)}s+="</tr>"}B=j(s+"</tbody>").appendTo(D);B.find("td").click(e);o=j("<div/>").appendTo(a)}l(N,K);ca(g)}function e(s){var r=parseInt(this.className.match(/fc\-day(\d+)/)[1]);
r=F(t(w.visStart),Math.floor(r/L)*7+r%L);w.trigger("dayClick",this,r,true,s)}function l(s,r){aa=s;U=r;V.clear();s=B.find("tr td:first-child");var Q=U-ga.height();if(b.weekMode=="variable")r=Q=Math.floor(Q/(I==1?2:6));else{r=Math.floor(Q/I);Q=Q-r*(I-1)}if(Ca==J){var T=B.find("tr:first").find("td:first");T.height(r);Ca=r!=T.height()}if(Ca){s.slice(0,-1).height(r);s.slice(-1).height(Q)}else{Da(s.slice(0,-1),r);Da(s.slice(-1),Q)}xa(ga.find("th").slice(0,-1),ea=Math.floor(aa/L))}function g(s){w.reportEvents(ba=
s);W(q(s))}function z(s){y();W(q(ba),s)}function y(){w._clearEvents();o.empty()}function q(s){var r=t(w.visStart),Q=F(t(r),L),T=j.map(s,G),N,K,ca,fa,h,m,p=[];for(N=0;N<I;N++){K=Ea(w.sliceSegs(s,T,r,Q));for(ca=0;ca<K.length;ca++){fa=K[ca];for(h=0;h<fa.length;h++){m=fa[h];m.row=N;m.level=ca;p.push(m)}}F(r,7);F(Q,7)}return p}function W(s,r){Na(s,I,w,0,aa,function(Q){return B.find("tr:eq("+Q+")")},V.left,V.right,o,R,r)}function G(s){if(s.end){var r=t(s.end);return s.allDay||r.getHours()||r.getMinutes()?
F(r,1):r}else return F(t(s.start),1)}function R(s,r,Q){w.eventElementHandlers(s,r);if(s.editable||s.editable==J&&b.editable){M(s,r);Q.isEnd&&w.resizableDayEvent(s,r,ea)}}function M(s,r){if(!b.disableDragging&&r.draggable){var Q;r.draggable({zIndex:9,delay:50,opacity:w.option("dragOpacity"),revertDuration:b.dragRevertDuration,start:function(T,N){w.hideEvents(s,r);w.trigger("eventDragStart",r,s,T,N);Q=new Fa(function(K){r.draggable("option","revert",!K||!K.rowDelta&&!K.colDelta);K?w.showOverlay(K):
w.hideOverlay()});B.find("tr").each(function(){Q.row(this)});N=B.find("tr:first td");if(ha)N=j(N.get().reverse());N.each(function(){Q.col(this)});Q.mouse(T.pageX,T.pageY)},drag:function(T){Q.mouse(T.pageX,T.pageY)},stop:function(T,N){w.hideOverlay();w.trigger("eventDragStop",r,s,T,N);var K=Q.cell;if(!K||!K.rowDelta&&!K.colDelta){j.browser.msie&&r.css("filter","");w.showEvents(s,r)}else{r.find("a").removeAttr("href");w.eventDrop(this,s,K.rowDelta*7+K.colDelta*ia,0,s.allDay,T,N)}}})}}var X,A,O,ha,ia,
ka,aa,U,I,L,ea,ga,B,ba=[],o,V=new Oa(function(s){return B.find("td:eq("+(s-Math.max(A,O)+L)%L+") div div")}),w=j.extend(this,Pa,d,{renderGrid:c,renderEvents:g,rerenderEvents:z,clearEvents:y,updateSize:l,defaultEventEnd:function(s){return t(s.start)}});w.init(a,b);a.addClass("fc-grid").css("position","relative");a.disableSelection&&a.disableSelection()}function Na(a,b,d,c,e,l,g,z,y,q,W){var G=d.options,R=G.isRTL,M,X=a.length,A,O,ha,ia,ka,aa="",U={},I={},L=[],ea=[];for(M=0;M<X;M++){A=a[M];O=A.event;
ha="fc-event fc-event-hori ";if(R){if(A.isStart)ha+="fc-corner-right ";if(A.isEnd)ha+="fc-corner-left ";ia=A.isEnd?g(A.end.getDay()-1):c;ka=A.isStart?z(A.start.getDay()):e}else{if(A.isStart)ha+="fc-corner-left ";if(A.isEnd)ha+="fc-corner-right ";ia=A.isStart?g(A.start.getDay()):c;ka=A.isEnd?z(A.end.getDay()-1):e}aa+="<div class='"+ha+O.className.join(" ")+"' style='position:absolute;z-index:8;left:"+ia+"px'><a"+(O.url?" href='"+ua(O.url)+"'":"")+">"+(!O.allDay&&A.isStart?"<span class='fc-event-time'>"+
ua(ra(O.start,O.end,d.option("timeFormat"),G))+"</span>":"")+"<span class='fc-event-title'>"+ua(O.title)+"</span></a>"+((O.editable||O.editable==J&&G.editable)&&!G.disableResizing&&j.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(R?"w":"e")+"'></div>":"")+"</div>";A.left=ia;A.outerWidth=ka-ia}y[0].innerHTML=aa;e=y.children();for(M=0;M<X;M++){A=a[M];c=j(e[M]);O=A.event;g=d.trigger("eventRender",O,O,c);if(g===false)c.remove();else{if(g&&g!==true){c.remove();c=j(g).css({position:"absolute",
left:A.left}).appendTo(y)}A.element=c;if(O._id===W)q(O,c,A);else c[0]._fci=M;d.reportEventElement(O,c)}}Qa(y,a,q);for(M=0;M<X;M++){A=a[M];if(c=A.element){q=U[y=A.key=Ra(c[0])];A.hsides=q==J?(U[y]=Ga(c[0],true)):q}}for(M=0;M<X;M++){A=a[M];if(c=A.element)c[0].style.width=A.outerWidth-A.hsides+"px"}for(M=0;M<X;M++){A=a[M];if(c=A.element){q=I[y=A.key];A.outerHeight=c[0].offsetHeight+(q==J?(I[y]=Sa(c[0])):q)}}for(U=M=0;U<b;U++){for(I=y=q=0;M<X&&(A=a[M]).row==U;){if(A.level!=y){I+=q;q=0;y++}q=Math.max(q,
A.outerHeight||0);A.top=I;M++}L[U]=l(U).find("td:first div.fc-day-content > div").height(I+q)}for(U=0;U<b;U++)ea[U]=L[U][0].offsetTop;for(M=0;M<X;M++){A=a[M];if(c=A.element){c[0].style.top=ea[A.row]+A.top+"px";O=A.event;d.trigger("eventAfterRender",O,O,c)}}}function Ta(a,b,d){function c(f,i,u,C,v){ba=f;K=b.theme?"ui":"fc";fa=b.weekends?0:1;ca=b.firstDay;if(h=b.isRTL){m=-1;p=ba-1}else{m=1;p=0}D=Ua(b.minTime);$=Ua(b.maxTime);f=h?F(t(n.visEnd),-1):t(n.visStart);var k=t(f),x=ta(new Date);if(I){q();I.find("tr:first th").slice(1,
-1).each(function(){j(this).text(la(k,i,b));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+na[k.getDay()]);F(k,m);fa&&da(k,m)});k=t(f);B.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+na[k.getDay()]);+k==+x?j(this).removeClass("fc-not-today").addClass("fc-today").addClass(K+"-state-highlight"):j(this).addClass("fc-not-today").removeClass("fc-today").removeClass(K+"-state-highlight");F(k,m);fa&&da(k,m)})}else{var H,P,S=b.slotMinutes%15==0,E="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+
(b.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+K+"-state-default'>&nbsp;</th>";for(H=0;H<ba;H++){E+="<th class='fc-"+na[k.getDay()]+" "+K+"-state-default'>"+la(k,i,b)+"</th>";F(k,m);fa&&da(k,m)}E+="<th class='"+K+"-state-default'>&nbsp;</th></tr>";if(b.allDaySlot)E+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+K+"-state-default'>"+b.allDayText+"</th><td colspan='"+ba+"' class='"+K+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+
K+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(ba+2)+"' class='"+K+"-state-default fc-leftmost'><div/></th></tr>";E+="</table></div>";I=j(E).appendTo(a);I.find("td").click(g);T=j("<div style='position:absolute;top:0;left:0'/>").appendTo(I);k=Va();var Y=ja(t(k),$);ja(k,D);E="<table>";for(H=0;k<Y;H++){P=k.getMinutes();E+="<tr class='"+(H==0?"fc-first":P==0?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+K+"-state-default'>"+(!S||P==0?la(k,b.axisFormat):"&nbsp;")+
"</th><td class='fc-slot"+H+" "+K+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";ja(k,b.slotMinutes)}E+="</table>";L=j("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(ea=j("<div style='position:relative;overflow:hidden'>").append(ga=j(E))).appendTo(a);L.find("td").click(g);N=j("<div/>").appendTo(ea);k=t(f);E="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";
for(H=0;H<ba;H++){E+="<td class='fc-"+na[k.getDay()]+" "+K+"-state-default "+(H==0?"fc-leftmost ":"")+(+k==+x?K+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";F(k,m);fa&&da(k,m)}E+="</tr></table></div>";B=j(E).appendTo(a)}l(u,C);e();v(z)}function e(){var f=Va(),i=t(f);i.setHours(b.firstHour);var u=function(){L.scrollTop(aa(f,i)+1)};j.browser.opera?setTimeout(u,0):u()}function l(f,i){s=f;r=i;Z.clear();ma={};L.width(f);L.height(i-I.height());
ga.width("");f=I.find("tr:first th");var u=B.find("td"),C=N.width();ga.width(C);o=0;xa(I.find("tr:lt(2) th:first").add(L.find("tr:first th")).width("").each(function(){o=Math.max(o,j(this).outerWidth())}),o);V=Math.floor((C-o)/ba);xa(u.slice(0,-1),V);xa(f.slice(1,-2),V);xa(f.slice(-2,-1),C-o-V*(ba-1));B.css({top:I.find("tr").height(),left:o,width:C-o,height:i});w=L.find("tr:first div").height()+1}function g(f){var i=Math.floor((f.pageX-B.offset().left)/V);i=F(t(n.visStart),p+m*i);var u=this.className.match(/fc-slot(\d+)/);
if(u){u=parseInt(u[1])*b.slotMinutes;var C=Math.floor(u/60);i.setHours(C);i.setMinutes(u%60+D);n.trigger("dayClick",this,i,false,f)}else n.trigger("dayClick",this,i,true,f)}function z(f,i){n.reportEvents(Q=f);var u,C=f.length,v=[],k=[];for(u=0;u<C;u++)f[u].allDay?v.push(f[u]):k.push(f[u]);R(W(v),i);M(G(k),i)}function y(f){q();z(Q,f)}function q(){n._clearEvents();T.empty();N.empty()}function W(f){f=Ea(n.sliceSegs(f,j.map(f,X),n.visStart,n.visEnd));var i,u=f.length,C,v,k,x=[];for(i=0;i<u;i++){C=f[i];
for(v=0;v<C.length;v++){k=C[v];k.row=0;k.level=i;x.push(k)}}return x}function G(f){var i=ja(t(n.visStart),D),u=j.map(f,X),C,v,k,x,H,P,S=[];for(C=0;C<ba;C++){v=Ea(n.sliceSegs(f,u,i,ja(t(i),$-D)));ab(v);for(k=0;k<v.length;k++){x=v[k];for(H=0;H<x.length;H++){P=x[H];P.col=C;P.level=k;S.push(P)}}F(i,1,true)}return S}function R(f,i){if(b.allDaySlot){Na(f,1,n,o,s,function(){return I.find("tr.fc-all-day")},function(u){return o+Z.left(U(u))},function(u){return o+Z.right(U(u))},T,A,i);l(s,r)}}function M(f,
i){var u,C=f.length,v,k,x,H,P,S,E,Y,oa,pa,Wa="",ya={},Xa={};for(u=0;u<C;u++){v=f[u];k=v.event;x="fc-event fc-event-vert ";if(v.isStart)x+="fc-corner-top ";if(v.isEnd)x+="fc-corner-bottom ";H=aa(v.start,v.start);P=aa(v.start,v.end);S=v.col;E=v.level;Y=v.forward||0;oa=o+Z.left(S*m+p);pa=o+Z.right(S*m+p)-oa;pa=Math.min(pa-6,pa*0.95);S=E?pa/(E+Y+1):Y?(pa/(Y+1)-6)*2:pa;E=oa+pa/(E+Y+1)*E*m+(h?pa-S:0);v.top=H;v.left=E;v.outerWidth=S;v.outerHeight=P-H;Wa+="<div class='"+x+k.className.join(" ")+"' style='position:absolute;z-index:8;top:"+
H+"px;left:"+E+"px'><a"+(k.url?" href='"+ua(k.url)+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+ua(ra(k.start,k.end,n.option("timeFormat")))+"</span><span class='fc-event-title'>"+ua(k.title)+"</span></a>"+((k.editable||k.editable==J&&b.editable)&&!b.disableResizing&&j.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}N[0].innerHTML=Wa;H=N.children();for(u=0;u<C;u++){v=f[u];k=v.event;x=j(H[u]);P=n.trigger("eventRender",k,k,x);if(P===false)x.remove();
else{if(P&&P!==true){x.remove();x=j(P).css({position:"absolute",top:v.top,left:v.left}).appendTo(N)}v.element=x;if(k._id===i)O(k,x,v);else x[0]._fci=u;n.reportEventElement(k,x)}}Qa(N,f,O);for(u=0;u<C;u++){v=f[u];if(x=v.element){i=ya[k=v.key=Ra(x[0])];v.vsides=i==J?(ya[k]=Ha(x[0],true)):i;i=Xa[k];v.hsides=i==J?(Xa[k]=Ga(x[0],true)):i;k=x.find("span.fc-event-title");if(k.length)v.titleTop=k[0].offsetTop}}for(u=0;u<C;u++){v=f[u];if(x=v.element){x[0].style.width=v.outerWidth-v.hsides+"px";x[0].style.height=
(ya=v.outerHeight-v.vsides)+"px";k=v.event;if(v.titleTop!=J&&ya-v.titleTop<10){x.find("span.fc-event-time").text(la(k.start,n.option("timeFormat"))+" - "+k.title);x.find("span.fc-event-title").remove()}n.trigger("eventAfterRender",k,k,x)}}}function X(f){if(f.allDay)if(f.end){var i=t(f.end);return f.allDay||i.getHours()||i.getMinutes()?F(i,1):i}else return F(t(f.start),1);return f.end?t(f.end):ja(t(f.start),b.defaultEventMinutes)}function A(f,i,u){n.eventElementHandlers(f,i);if(f.editable||f.editable==
J&&b.editable){ha(f,i,u.isStart);u.isEnd&&n.resizableDayEvent(f,i,V)}}function O(f,i,u){n.eventElementHandlers(f,i);if(f.editable||f.editable==J&&b.editable){var C=i.find("span.fc-event-time");ia(f,i,C);u.isEnd&&ka(f,i,C)}}function ha(f,i,u){if(!b.disableDragging&&i.draggable){var C,v,k,x=true,H;i.draggable({zIndex:9,opacity:n.option("dragOpacity","month"),revertDuration:b.dragRevertDuration,start:function(P,S){n.hideEvents(f,i);n.trigger("eventDragStart",i,f,P,S);C=i.position();v=i.width();k=function(){if(!x){i.width(v).height("").draggable("option",
"grid",null);x=true}};H=new Fa(function(E){i.draggable("option","revert",!E||!E.rowDelta&&!E.colDelta);if(E)if(E.row){if(u&&x){Da(i.width(V-10),w*Math.round((f.end?(f.end-f.start)/bb:b.defaultEventMinutes)/b.slotMinutes));i.draggable("option","grid",[V,1]);x=false}n.hideOverlay()}else{k();n.showOverlay(E)}else n.hideOverlay()});H.row(I.find("td"));B.find("td").each(function(){H.col(this)});H.row(L);H.mouse(P.pageX,P.pageY)},drag:function(P){H.mouse(P.pageX,P.pageY)},stop:function(P,S){n.hideOverlay();
n.trigger("eventDragStop",i,f,P,S);var E=H.cell,Y=m*(x?E?E.colDelta:0:Math.floor((S.position.left-C.left)/V));if(!E||!Y&&!E.rowDelta){k();j.browser.msie&&i.css("filter","");n.showEvents(f,i)}else{i.find("a").removeAttr("href");n.eventDrop(this,f,Y,x?0:Math.round((i.offset().top-ea.offset().top)/w)*b.slotMinutes+D-(f.start.getHours()*60+f.start.getMinutes()),x,P,S)}}})}}function ia(f,i,u){if(!b.disableDragging&&i.draggable){var C,v,k,x,H=false,P;i.draggable({zIndex:9,scroll:false,grid:[V,w],axis:ba==
1?"y":false,opacity:n.option("dragOpacity"),revertDuration:b.dragRevertDuration,start:function(S,E){n.hideEvents(f,i);n.trigger("eventDragStart",i,f,S,E);j.browser.msie&&i.find("span.fc-event-bg").hide();C=i.position();v=function(){if(H){u.css("display","");i.draggable("option","grid",[V,w]);H=false}};k=0;P=new Fa(function(Y){i.draggable("option","revert",!Y);if(Y)if(!Y.row&&b.allDaySlot){if(!H){H=true;u.hide();i.draggable("option","grid",null)}n.showOverlay(Y)}else{v();n.hideOverlay()}else n.hideOverlay()});
b.allDaySlot&&P.row(I.find("td"));B.find("td").each(function(){P.col(this)});P.row(L);P.mouse(S.pageX,S.pageY)},drag:function(S,E){x=Math.round((E.position.top-C.top)/w);if(x!=k){if(!H){E=x*b.slotMinutes;var Y=ja(t(f.start),E),oa;if(f.end)oa=ja(t(f.end),E);u.text(ra(Y,oa,n.option("timeFormat")))}k=x}P.mouse(S.pageX,S.pageY)},stop:function(S,E){n.hideOverlay();n.trigger("eventDragStop",i,f,S,E);var Y=P.cell,oa=m*(H?Y?Y.colDelta:0:Math.floor((E.position.left-C.left)/V));if(!Y||!x&&!oa){v();j.browser.msie&&
i.css("filter","").find("span.fc-event-bg").css("display","");i.css(C);n.showEvents(f,i)}else n.eventDrop(this,f,oa,H?0:x*b.slotMinutes,H,S,E)}})}}function ka(f,i,u){if(!b.disableResizing&&i.resizable){var C,v;i.resizable({handles:{s:"div.ui-resizable-s"},grid:w,start:function(k,x){C=v=0;n.hideEvents(f,i);j.browser.msie&&j.browser.version=="6.0"&&i.css("overflow","hidden");i.css("z-index",9);n.trigger("eventResizeStart",this,f,k,x)},resize:function(k,x){C=Math.round((Math.max(w,i.height())-x.originalSize.height)/
w);if(C!=v){u.text(ra(f.start,!C&&!f.end?null:ja(n.eventEnd(f),b.slotMinutes*C),n.option("timeFormat")));v=C}},stop:function(k,x){n.trigger("eventResizeStop",this,f,k,x);if(C)n.eventResize(this,f,0,b.slotMinutes*C,k,x);else{i.css("z-index",8);n.showEvents(f,i)}}})}}function aa(f,i){f=t(f,true);if(i<ja(t(f),D))return 0;if(i>=ja(t(f),$))return ea.height();f=b.slotMinutes;i=i.getHours()*60+i.getMinutes()-D;var u=Math.floor(i/f),C=ma[u];if(C==J)C=ma[u]=L.find("tr:eq("+u+") td div")[0].offsetTop;return Math.max(0,
Math.round(C-1+w*(i%f/f)))}function U(f){return(f-Math.max(ca,fa)+ba)%ba*m+p}var I,L,ea,ga,B,ba,o,V,w,s,r,Q=[],T,N,K,ca,fa,h,m,p,D,$,Z=new Oa(function(f){return B.find("td:eq("+f+") div div")}),ma={},n=j.extend(this,Pa,d,{renderAgenda:c,renderEvents:z,rerenderEvents:y,clearEvents:q,updateSize:l,shown:e,defaultEventEnd:function(f){var i=t(f.start);if(f.allDay)return i;return ja(i,b.defaultEventMinutes)}});n.init(a,b);a.addClass("fc-agenda").css("position","relative");a.disableSelection&&a.disableSelection()}
function ab(a){var b,d,c,e,l,g;for(b=a.length-1;b>0;b--){e=a[b];for(d=0;d<e.length;d++){l=e[d];for(c=0;c<a[b-1].length;c++){g=a[b-1][c];if(Ya(l,g))g.forward=Math.max(g.forward||0,(l.forward||0)+1)}}}}function Qa(a,b,d){a.unbind("mouseover").mouseover(function(c){for(var e=c.target,l;e!=this;){l=e;e=e.parentNode}if((e=l._fci)!=J){l._fci=J;l=b[e];d(l.event,l.element,l);j(c.target).trigger(c)}c.stopPropagation()})}function Ea(a){var b=[],d,c=a.length,e,l,g,z;for(d=0;d<c;d++){e=a[d];for(l=0;;){g=false;
if(b[l])for(z=0;z<b[l].length;z++)if(Ya(b[l][z],e)){g=true;break}if(g)l++;else break}if(b[l])b[l].push(e);else b[l]=[e]}return b}function cb(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Ya(a,b){return a.end>b.start&&a.start<b.end}function Ia(a,b,d){a.setFullYear(a.getFullYear()+b);d||ta(a);return a}function Ja(a,b,d){if(+a){b=a.getMonth()+b;var c=t(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(d||ta(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}
function F(a,b,d){if(+a){b=a.getDate()+b;var c=t(a);c.setHours(9);c.setDate(b);a.setDate(b);d||ta(a);Ka(a,c)}return a}function Ka(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*db)}function ja(a,b){a.setMinutes(a.getMinutes()+b);return a}function ta(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function t(a,b){if(b)return ta(new Date(+a));return new Date(+a)}function Va(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours()!=0);return b}function da(a,
b,d){for(b=b||1;a.getDay()==0||d&&a.getDay()==1||!d&&a.getDay()==6;)F(a,b);return a}function xa(a,b,d){a.each(function(c,e){e.style.width=b-Ga(e,d)+"px"})}function Da(a,b,d){a.each(function(c,e){e.style.height=b-Ha(e,d)+"px"})}function Ga(a,b){return(parseFloat(jQuery.curCSS(a,"paddingLeft",true))||0)+(parseFloat(jQuery.curCSS(a,"paddingRight",true))||0)+(parseFloat(jQuery.curCSS(a,"borderLeftWidth",true))||0)+(parseFloat(jQuery.curCSS(a,"borderRightWidth",true))||0)+(b?eb(a):0)}function eb(a){return(parseFloat(jQuery.curCSS(a,
"marginLeft",true))||0)+(parseFloat(jQuery.curCSS(a,"marginRight",true))||0)}function Ha(a,b){return(parseFloat(jQuery.curCSS(a,"paddingTop",true))||0)+(parseFloat(jQuery.curCSS(a,"paddingBottom",true))||0)+(parseFloat(jQuery.curCSS(a,"borderTopWidth",true))||0)+(parseFloat(jQuery.curCSS(a,"borderBottomWidth",true))||0)+(b?Sa(a):0)}function Sa(a){return(parseFloat(jQuery.curCSS(a,"marginTop",true))||0)+(parseFloat(jQuery.curCSS(a,"marginBottom",true))||0)}function fb(a){if(za!==false){var b;if(a.is("th,td"))a=
(b=a).parent();if(za==J&&a.is("tr"))za=a.position().top!=a.children().position().top;if(za)return a.parent().position().top+(b?a.position().top-b.position().top:0)}return 0}function Fa(a){var b=this,d=[],c=[],e,l,g,z,y,q;b.row=function(W){e=j(W);d.push(e.offset().top+fb(e))};b.col=function(W){l=j(W);c.push(l.offset().left)};b.mouse=function(W,G){if(g==J){d.push(d[d.length-1]+e.outerHeight());c.push(c[c.length-1]+l.outerWidth());y=q=-1}var R;for(R=0;R<d.length&&G>=d[R];R++);for(G=0;G<c.length&&W>=
c[G];G++);R=R>=d.length?-1:R-1;G=G>=c.length?-1:G-1;if(R!=y||G!=q){y=R;q=G;if(R==-1||G==-1)b.cell=null;else{if(g==J){g=R;z=G}b.cell={row:R,col:G,top:d[R],left:c[G],width:c[G+1]-c[G],height:d[R+1]-d[R],isOrig:R==g&&G==z,rowDelta:R-g,colDelta:G-z}}a(b.cell)}}}function va(a){return(a<10?"0":"")+a}function La(a,b){if(a[b]!=J)return a[b];b=b.split(/(?=[A-Z])/);for(var d=b.length-1,c;d>=0;d--){c=a[b[d].toLowerCase()];if(c!=J)return c}return a[""]}function ua(a){return a.replace(/&/g,"&amp;").replace(/</g,
"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")}function Oa(a){function b(g){return c[g]=c[g]||a(g)}var d=this,c={},e={},l={};d.left=function(g){return e[g]=e[g]==J?b(g).position().left:e[g]};d.right=function(g){return l[g]=l[g]==J?d.left(g)+b(g).width():l[g]};d.clear=function(){c={};e={};l={}}}function Ra(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}var qa=j.fullCalendar={},wa=qa.views={},Aa={defaultView:"month",
aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar",
"Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}},gb={header:{left:"next,prev today",center:"",right:"title"},
buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Za=qa.setDefaults=function(a){j.extend(true,Aa,a)};j.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),d;this.each(function(){var l=j.data(this,"fullCalendar")[a].apply(this,b);if(d==J)d=l});if(d!=J)return d;return this}var c=a.eventSources||[];delete a.eventSources;
if(a.events){c.push(a.events);delete a.events}c.unshift([]);a=j.extend(true,{},Aa,a.isRTL||a.isRTL==J&&Aa.isRTL?gb:{},a);var e=a.theme?"ui":"fc";this.each(function(){function l(h){if(h!=ba){ha();if(o){if(o.eventsChanged){z(o);o.eventsChanged=false}o.element.hide()}if(V[h]){(o=V[h]).element.show();o.shown&&o.shown()}else o=V[h]=j.fullCalendar.views[h](j("<div class='fc-view fc-view-"+h+"'/>").appendTo(L),a);if(N){N.find("div.fc-button-"+ba).removeClass(e+"-state-active");N.find("div.fc-button-"+h).addClass(e+
"-state-active")}o.name=ba=h;g();ia()}}function g(h,m){if((I=aa.offsetWidth)!==0){if(!ga||m){ea=L.width();ga=G()}if(h||!o.date||B<o.start||B>=o.end){ha();o.render(B,h||0,ea,ga,function(p){!s||o.visStart<s||o.visEnd>r?R(p):p(w)});ia();o.date=t(B)}else if(o.sizeDirty||m){o.updateSize(ea,ga);o.clearEvents();o.renderEvents(w)}else if(o.eventsDirty){o.clearEvents();o.renderEvents(w)}if(N){N.find("h2.fc-header-title").html(o.title);h=new Date;h>=o.start&&h<o.end?N.find("div.fc-button-today").addClass(e+
"-state-disabled"):N.find("div.fc-button-today").removeClass(e+"-state-disabled")}o.sizeDirty=false;o.eventsDirty=false;o.trigger("viewDisplay",aa)}}function z(h){j.each(V,function(){if(this!=h)this.eventsDirty=true})}function y(){o.clearEvents();o.renderEvents(w);z(o)}function q(h){j.each(V,function(){if(this!=h)this.sizeDirty=true})}function W(h){ea=L.width();ga=G();h&&ha();o.updateSize(ea,ga);h&&ia();q(o);o.rerenderEvents()}function G(){if(a.contentHeight)return a.contentHeight;else if(a.height)return a.height-
(N?N.height():0)-Ha(L[0]);return Math.round(ea/Math.max(a.aspectRatio,0.5))}function R(h){w=[];s=t(o.visStart);r=t(o.visEnd);for(var m=c.length,p=function(){--m==0&&h&&h(w)},D=0;D<c.length;D++)M(c[D],p)}function M(h,m){var p=o.name,D=t(B),$=function(n){if(p==o.name&&+D==+B&&j.inArray(h,c)!=-1){for(var f=0;f<n.length;f++){sa(n[f],a);n[f].source=h}w=w.concat(n);m&&m(n)}},Z=function(n){$(n);A()};if(typeof h=="string"){var ma={};ma[a.startParam]=Math.round(s.getTime()/1E3);ma[a.endParam]=Math.round(r.getTime()/
1E3);if(a.cacheParam)ma[a.cacheParam]=(new Date).getTime();X();j.ajax({url:h,dataType:"json",data:ma,cache:a.cacheParam||false,success:Z})}else if(j.isFunction(h)){X();h(t(s),t(r),Z)}else $(h)}function X(){Q++||o.trigger("loading",aa,true)}function A(){--Q||o.trigger("loading",aa,false)}function O(h){if(h){var m=j("<tr/>");j.each(h.split(" "),function(p){p>0&&m.append("<td><span class='fc-header-space'/></td>");var D;j.each(this.split(","),function($,Z){if(Z=="title"){m.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");
D&&D.addClass(e+"-corner-right");D=null}else{var ma;if(T[Z])ma=T[Z];else if(wa[Z])ma=function(){n.removeClass(e+"-state-hover");l(Z)};if(ma){D&&D.addClass(e+"-no-right");var n;$=a.theme?La(a.buttonIcons,Z):null;var f=La(a.buttonText,Z);if($)n=j("<div class='fc-button-"+Z+" ui-state-default'><a><span class='ui-icon ui-icon-"+$+"'/></a></div>");else if(f)n=j("<div class='fc-button-"+Z+" "+e+"-state-default'><a><span>"+f+"</span></a></div>");if(n){n.click(function(){n.hasClass(e+"-state-disabled")||
ma()}).mousedown(function(){n.not("."+e+"-state-active").not("."+e+"-state-disabled").addClass(e+"-state-down")}).mouseup(function(){n.removeClass(e+"-state-down")}).hover(function(){n.not("."+e+"-state-active").not("."+e+"-state-disabled").addClass(e+"-state-hover")},function(){n.removeClass(e+"-state-hover").removeClass(e+"-state-down")}).appendTo(j("<td/>").appendTo(m));D?D.addClass(e+"-no-right"):n.addClass(e+"-corner-left");D=n}}}});D&&D.addClass(e+"-corner-right")});return j("<table/>").append(m)}}
function ha(){if(!ca){ca=true;L.css({overflow:"hidden",height:ga})}}function ia(){if(ca){L.css({overflow:"visible",height:""});if(j.browser.msie&&(j.browser.version=="6.0"||j.browser.version=="7.0"))L.hide().show();ca=false}}function ka(){if(!ca)if(o.date){var h=++fa;setTimeout(function(){if(h==fa&&!ca){var m=U.width();if(m!=I){I=m;W(true);o.trigger("windowResize",aa)}}},200)}else g()}var aa=this,U=j(aa).addClass("fc"),I,L=j("<div class='fc-content "+e+"-widget-content' style='position:relative'/>").prependTo(aa),
ea,ga;a.isRTL&&U.addClass("fc-rtl");a.theme&&U.addClass("ui-widget");var B=new Date,ba,o,V={};if(a.year!=J&&a.year!=B.getFullYear()){B.setDate(1);B.setMonth(0);B.setFullYear(a.year)}if(a.month!=J&&a.month!=B.getMonth()){B.setDate(1);B.setMonth(a.month)}a.date!=J&&B.setDate(a.date);var w=[],s,r,Q=0,T={render:function(){g(0,true);q(o);z(o)},changeView:l,getView:function(){return o},getDate:function(){return B},option:function(h,m){if(m==J)return a[h];if(h=="height"||h=="contentHeight"||h=="aspectRatio")if(!ca){a[h]=
m;W()}},destroy:function(){j(window).unbind("resize",ka);N&&N.remove();L.remove();j.removeData(aa,"fullCalendar")},prev:function(){g(-1)},next:function(){g(1)},prevYear:function(){Ia(B,-1);g()},nextYear:function(){Ia(B,1);g()},today:function(){B=new Date;g()},gotoDate:function(h,m,p){if(typeof h=="object")B=t(h);else{h!=J&&B.setFullYear(h);m!=J&&B.setMonth(m);p!=J&&B.setDate(p)}g()},incrementDate:function(h,m,p){h!=J&&Ia(B,h);m!=J&&Ja(B,m);p!=J&&F(B,p);g()},updateEvent:function(h){var m,p=w.length,
D,$=h.start-h._start,Z=h.end?h.end-(h._end||o.defaultEventEnd(h)):0;for(m=0;m<p;m++){D=w[m];if(D._id==h._id&&D!=h){D.start=new Date(+D.start+$);D.end=h.end?D.end?new Date(+D.end+Z):new Date(+o.defaultEventEnd(D)+Z):null;D.title=h.title;D.url=h.url;D.allDay=h.allDay;D.className=h.className;D.editable=h.editable;sa(D,a)}}sa(h,a);y()},renderEvent:function(h,m){sa(h,a);if(!h.source){if(m)(h.source=c[0]).push(h);w.push(h)}y()},removeEvents:function(h){if(h){if(!j.isFunction(h)){var m=h+"";h=function(D){return D._id==
m}}w=j.grep(w,h,true);for(p=0;p<c.length;p++)if(typeof c[p]=="object")c[p]=j.grep(c[p],h,true)}else{w=[];for(var p=0;p<c.length;p++)if(typeof c[p]=="object")c[p]=[]}y()},clientEvents:function(h){if(j.isFunction(h))return j.grep(w,h);else if(h){h+="";return j.grep(w,function(m){return m._id==h})}return w},rerenderEvents:function(){o.rerenderEvents();z(o)},addEventSource:function(h){c.push(h);M(h,function(){y()})},removeEventSource:function(h){c=j.grep(c,function(m){return m!=h});w=j.grep(w,function(m){return m.source!=
h});y()},refetchEvents:function(){R(y)}};j.data(this,"fullCalendar",T);var N,K=a.header;if(K)N=j("<table class='fc-header'/>").append(j("<tr/>").append(j("<td class='fc-header-left'/>").append(O(K.left))).append(j("<td class='fc-header-center'/>").append(O(K.center))).append(j("<td class='fc-header-right'/>").append(O(K.right)))).prependTo(U);var ca=false,fa=0;j(window).resize(ka);l(a.defaultView);j.browser.msie&&!j("body").width()&&setTimeout(function(){g();L.hide().show();o.rerenderEvents()},0)});
return this};var $a=0;Za({weekMode:"fixed"});wa.month=function(a,b){return new Ba(a,b,{render:function(d,c,e,l,g){if(c){Ja(d,c);d.setDate(1)}d=this.start=t(d,true);d.setDate(1);this.end=Ja(t(d),1);var z=this.visStart=t(d);c=this.visEnd=t(this.end);var y=b.weekends?0:1;if(y){da(z);da(c,-1,true)}F(z,-((z.getDay()-Math.max(b.firstDay,y)+7)%7));F(c,(7-c.getDay()+Math.max(b.firstDay,y))%7);z=Math.round((c-z)/(hb*7));if(b.weekMode=="fixed"){F(c,(6-z)*7);z=6}this.title=la(d,this.option("titleFormat"),b);
this.renderGrid(z,b.weekends?7:5,this.option("columnFormat"),true,e,l,g)}})};wa.basicWeek=function(a,b){return new Ba(a,b,{render:function(d,c,e,l,g){c&&F(d,c*7);d=this.visStart=t(this.start=F(t(d),-((d.getDay()-b.firstDay+7)%7)));c=this.visEnd=t(this.end=F(t(d),7));if(!b.weekends){da(d);da(c,-1,true)}this.title=ra(d,F(t(c),-1),this.option("titleFormat"),b);this.renderGrid(1,b.weekends?7:5,this.option("columnFormat"),false,e,l,g)}})};wa.basicDay=function(a,b){return new Ba(a,b,{render:function(d,
c,e,l,g){if(c){F(d,c);b.weekends||da(d,c<0?-1:1)}this.title=la(d,this.option("titleFormat"),b);this.start=this.visStart=t(d,true);this.end=this.visEnd=F(t(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false,e,l,g)}})};var Ca;Za({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});wa.agendaWeek=function(a,b){return new Ta(a,b,{render:function(d,
c,e,l,g){c&&F(d,c*7);d=this.visStart=t(this.start=F(t(d),-((d.getDay()-b.firstDay+7)%7)));c=this.visEnd=t(this.end=F(t(d),7));if(!b.weekends){da(d);da(c,-1,true)}this.title=ra(d,F(t(c),-1),this.option("titleFormat"),b);this.renderAgenda(b.weekends?7:5,this.option("columnFormat"),e,l,g)}})};wa.agendaDay=function(a,b){return new Ta(a,b,{render:function(d,c,e,l,g){if(c){F(d,c);b.weekends||da(d,c<0?-1:1)}this.title=la(d,this.option("titleFormat"),b);this.start=this.visStart=t(d,true);this.end=this.visEnd=
F(t(this.start),1);this.renderAgenda(1,this.option("columnFormat"),e,l,g)}})};var Pa={init:function(a,b){this.element=a;this.options=b;this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(a,b){if(this.options[a])return this.options[a].apply(b||this,Array.prototype.slice.call(arguments,2).concat([this]))},eventEnd:function(a){return a.end?t(a.end):this.defaultEventEnd(a)},reportEvents:function(a){var b,d=a.length,c,e=this.eventsByID={};for(b=0;b<d;b++){c=a[b];if(e[c._id])e[c._id].push(c);
else e[c._id]=[c]}},reportEventElement:function(a,b){this.eventElements.push(b);var d=this.eventElementsByID;if(d[a._id])d[a._id].push(b);else d[a._id]=[b]},_clearEvents:function(){this.eventElements=[];this.eventElementsByID={}},showEvents:function(a,b){this._eee(a,b,"show")},hideEvents:function(a,b){this._eee(a,b,"hide")},_eee:function(a,b,d){a=this.eventElementsByID[a._id];var c,e=a.length;for(c=0;c<e;c++)a[c][0]!=b[0]&&a[c][d]()},eventDrop:function(a,b,d,c,e,l,g){var z=this,y=b.allDay,q=b._id;
if(b.allDay==e)e=null;z.moveEvents(z.eventsByID[q],d,c,e);z.trigger("eventDrop",a,b,d,c,e,function(){z.moveEvents(z.eventsByID[q],-d,-c,y);z.rerenderEvents()},l,g);z.eventsChanged=true;z.rerenderEvents(q)},eventResize:function(a,b,d,c,e,l){var g=this,z=b._id;g.elongateEvents(g.eventsByID[z],d,c);g.trigger("eventResize",a,b,d,c,function(){g.elongateEvents(g.eventsByID[z],-d,-c);g.rerenderEvents()},e,l);g.eventsChanged=true;g.rerenderEvents(z)},moveEvents:function(a,b,d,c){d=d||0;for(var e,l=a.length,
g=0;g<l;g++){e=a[g];if(c!=J)e.allDay=c;ja(F(e.start,b,true),d);if(e.end)e.end=ja(F(e.end,b,true),d);sa(e,this.options)}},elongateEvents:function(a,b,d){d=d||0;for(var c,e=a.length,l=0;l<e;l++){c=a[l];c.end=ja(F(this.eventEnd(c),b,true),d);sa(c,this.options)}},showOverlay:function(a){if(!this.dayOverlay)this.dayOverlay=j("<div class='fc-cell-overlay' style='position:absolute;z-index:3;display:none'/>").appendTo(this.element);var b=this.element.offset();this.dayOverlay.css({top:a.top-b.top,left:a.left-
b.left,width:a.width,height:a.height}).show()},hideOverlay:function(){this.dayOverlay&&this.dayOverlay.hide()},resizableDayEvent:function(a,b,d){var c=this;if(!c.options.disableResizing&&b.resizable)b.resizable({handles:c.options.isRTL?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},grid:d,minWidth:d/2,containment:c.element.parent().parent(),start:function(e,l){b.css("z-index",9);c.hideEvents(a,b);c.trigger("eventResizeStart",this,a,e,l)},stop:function(e,l){c.trigger("eventResizeStop",this,a,e,
l);var g=Math.round((b.width()-l.originalSize.width)/d);if(g)c.eventResize(this,a,g,0,e,l);else{b.css("z-index",8);c.showEvents(a,b)}}})},eventElementHandlers:function(a,b){var d=this;b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return d.trigger("eventClick",this,a,c)}).hover(function(c){d.trigger("eventMouseover",this,a,c)},function(c){d.trigger("eventMouseout",this,a,c)})},option:function(a,b){a=this.options[a];if(typeof a=="object")return La(a,
b||this.name);return a},sliceSegs:function(a,b,d,c){var e=[],l,g=a.length,z,y,q,W,G;for(l=0;l<g;l++){z=a[l];y=z.start;q=b[l];if(q>d&&y<c){if(y<d){y=t(d);W=false}else{y=y;W=true}if(q>c){q=t(c);G=false}else{q=q;G=true}e.push({event:z,start:y,end:q,isStart:W,isEnd:G,msLength:q-y})}}return e.sort(cb)}},hb=864E5,db=36E5,bb=6E4;qa.addDays=F;var Ma=qa.parseDate=function(a){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+$/))return new Date(parseInt(a)*
1E3);return ib(a,true)||(a?new Date(a):null)}return null},ib=qa.parseISO8601=function(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!a)return null;var d=new Date(a[1],0,1),c=new Date(a[1],0,1,9,0),e=0;if(a[3]){d.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){d.setDate(a[5]);c.setDate(a[5])}Ka(d,c);a[7]&&d.setHours(a[7]);a[8]&&d.setMinutes(a[8]);a[10]&&d.setSeconds(a[10]);a[12]&&d.setMilliseconds(Number("0."+
a[12])*1E3);Ka(d,c);if(!b){if(a[14]){e=Number(a[16])*60+Number(a[17]);e*=a[15]=="-"?1:-1}e-=d.getTimezoneOffset()}return new Date(+d+e*60*1E3)},Ua=qa.parseTime=function(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1]);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2]):0)}},la=qa.formatDate=function(a,b,d){return ra(a,null,b,d)},ra=qa.formatDates=function(a,
b,d,c){c=c||Aa;var e=a,l=b,g,z=d.length,y,q,W,G="";for(g=0;g<z;g++){y=d.charAt(g);if(y=="'")for(q=g+1;q<z;q++){if(d.charAt(q)=="'"){if(e){G+=q==g+1?"'":d.substring(g+1,q);g=q}break}}else if(y=="(")for(q=g+1;q<z;q++){if(d.charAt(q)==")"){g=la(e,d.substring(g+1,q),c);if(parseInt(g.replace(/\D/,"")))G+=g;g=q;break}}else if(y=="[")for(q=g+1;q<z;q++){if(d.charAt(q)=="]"){y=d.substring(g+1,q);g=la(e,y,c);if(g!=la(l,y,c))G+=g;g=q;break}}else if(y=="{"){e=b;l=a}else if(y=="}"){e=a;l=b}else{for(q=z;q>g;q--)if(W=
jb[d.substring(g,q)]){if(e)G+=W(e,c);g=q-1;break}if(q==g)if(e)G+=y}}return G},jb={s:function(a){return a.getSeconds()},ss:function(a){return va(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return va(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return va(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return va(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return va(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},
dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return va(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<
12?"AM":"PM"},u:function(a){return la(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}},za,J,na=["sun","mon","tue","wed","thu","fri","sat"]})(jQuery);
