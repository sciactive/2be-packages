/*
 * Pines Framework Bootstrap Template
 *
 * http://pinesframework.org/
 * Copyright (c) 2013 SciActive
 * Author: Angela Murrell <angela@sciactive.com>
 *
 * Triple license under the GPL, LGPL, and MPL:
 *	  http://www.gnu.org/licenses/gpl.html
 *	  http://www.gnu.org/licenses/lgpl.html
 *	  http://www.mozilla.org/MPL/MPL-1.1.html
 */
var rgb_to_hex=function(e){var t=e[0],n=e[1],r=e[2];return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)};var color_lum=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,"");if(e.length<6){e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}t=t||0;var n="#",r,i;for(i=0;i<3;i++){r=parseInt(e.substr(i*2,2),16);r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16);n+=("00"+r).substr(r.length)}return n};var hex_to_rgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};var hsl_to_rgb=function(e){var t=e[0],n=e[1],r=e[2];var i,s,o;if(n==0){i=s=o=r}else{function u(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}var a=r<.5?r*(1+n):r+n-r*n;var f=2*r-a;i=u(f,a,t+1/3);s=u(f,a,t);o=u(f,a,t-1/3)}return[i*255,s*255,o*255]};var rgb_to_hsl=function(e){var t=e[0]/255;var n=e[1]/255;var r=e[2]/255;var i=Math.max(t,n,r);var s=Math.min(t,n,r);var o=(i+s)/2;var u=0;var a=0;if(i!=s){if(o<.5){u=(i-s)/(i+s)}else{u=(i-s)/(2-i-s)}if(t==i){a=(n-r)/(i-s)}else if(n==i){a=2+(r-t)/(i-s)}else{a=4+(t-n)/(i-s)}}o=o*100;u=u*100;a=a*60;if(a<0){a+=360}var f=[a,u,o];return f};var get_text_shadow=function(e){if(e.match(/^#/)){var t=new Array;t[0]=hex_to_rgb(e).r;t[1]=hex_to_rgb(e).g;t[2]=hex_to_rgb(e).b;var n=rgb_to_hsl(t)}else if(e.match(/^r/)){var r=e.replace(/^rgba?\( ?([\d.]+%?,) ?([\d.]+%?,) ?([\d.]+%?)(?:,? ?[\d.]+)?\)$/i,"$1$2$3");var t=r.split(",");var n=rgb_to_hsl(t)}else{var i=e.replace(/^hsla?\( ?([\d.]+%?,) ?([\d.]+%?,) ?([\d.]+%?)(?:,? ?[\d.]+)?\)$/i,"$1$2$3");var n=i.split(",");var t=hsl_to_rgb(n)}if(n[2]==100){var s="0 -1px 0 rgba(0, 0, 0, 0.25)"}else if(n[2]==0){var s="0 -1px 0 rgba(255, 255, 255, .2)"}else if(n[2]>50){var o=rgb_to_hex(t);var u=color_lum(o,-.5)}else if(n[2]<50){var o=rgb_to_hex(t);var u=color_lum(o,.5)}if(o){var s="0 -1px 0 "+u}return s};if(load_css1.length)pines.loadcss(pines.rela_location+load_css1);if(load_css2.length)pines.loadcss(pines.rela_location+load_css2);if(load_css3.length)pines.loadcss(pines.rela_location+load_css3);if(load_css4.length)pines.loadcss(pines.rela_location+load_css4);if(load_js1.length)pines.loadjs(pines.rela_location+load_js1);if(load_js2.length)pines.loadjs(pines.rela_location+load_js2);if(load_js3.length)pines.loadjs(pines.rela_location+load_js3);if(load_js4.length)pines.loadjs(pines.rela_location+load_js4);if(navbar_trigger=="hover"){pines(function(){$("#nav").on("mouseenter","ul.nav > li.dropdown > a",function(){var e=$(this);e.siblings("ul.dropdown-menu").addClass("dropdown-opened");if(!e.parent().hasClass("open"))e.dropdown("toggle");setTimeout(function(){e.siblings("ul.dropdown-menu").removeClass("dropdown-opened")},800)}).on("mouseleave","ul.nav",function(e){var t=$(this);var n=e.pageY-$(window).scrollTop();var r=$(".navbar-inner").height();if(n>r+5){t.find("li.dropdown.open > a").dropdown("toggle")}});$("#page").on("hover",function(){$("ul.nav").find("li.dropdown.open > a").dropdown("toggle")});$("#nav").on("mousedown","ul.nav > li.dropdown > a",function(e){var t=$(this).attr("href");switch(e.which){case 1:window.location=t;break;case 2:window.open(t);break;default:break}return true})})}if(mobile_menu=="adjusted"){pines(function(){$(window).resize(function(){if($(this).width()<800){$("ul.nav li ul","#nav").hide();$(".nav-helper, .sub-nav-helper","#nav").remove();$("ul.nav > li.dropdown > a","#nav").after('<span class="btn btn-navbar nav-helper">::</span>');$("ul.nav > li.dropdown > span.nav-helper","#nav").on("click",function(){var e=$(this).closest("li.dropdown");if(e.hasClass("helper-show")){e.removeClass("helper-show").children("ul").hide();$(".nav-collapse","#nav").css("height","auto")}else{e.addClass("helper-show").children("ul").show();$(".nav-collapse","#nav").css("height","auto")}});$("li.dropdown-submenu > a","#nav").after('<span class="btn btn-navbar sub-nav-helper">::</span>');$("li.dropdown-submenu span.sub-nav-helper","#nav").on("click",function(){var e=$(this).closest("li.dropdown-submenu");if(e.hasClass("submenu-show"))e.removeClass("submenu-show").children("ul").hide();else e.addClass("submenu-show").children("ul").show()})}else{$("ul.nav li ul","#nav").removeAttr("style");$("ul.nav li.dropdown","#nav").unbind("mouseenter mouseleave");$("li.dropdown-submenu","#nav").unbind("mouseenter mouseleave")}}).resize()})}if(footer_height=="adjusted"&&footer_type=="fixed"){setTimeout(function(){var e=$("#footer");e.height($(document).height()-e.offset().top-1)},2e3)}pines(function(){if(verified_brand_colors){var e=get_text_shadow(brand_color);$("#nav.brand-color a.brand").css("text-shadow",e)}if(verified_font_colors){var e=get_text_shadow(font_color);$("#nav ul.nav > li.dropdown > a").css("text-shadow",e)}if(t>0){var t=t;var n=$(".navbar-inner").css("min-height");if(t>=parseInt(n)){var r=$(".navbar .nav > li > a"),i=r.outerHeight(),s=r.height();var o=i-s;var u=(t-o)/2;r.css({"padding-top":u+"px","padding-bottom":u+"px"});$("#nav a.brand").css({"padding-top":u+"px","padding-bottom":u+"px"});$(".navbar-inner").css("min-height",t+"px")}}})